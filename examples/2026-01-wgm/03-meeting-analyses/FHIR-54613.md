# FHIR-54613: Review of Required and Extensible bindings in base Resources to avoid conflicts for valid profiling use cases

## Issue Overview

This is a request for a systematic evaluation of Required and Extensible vocabulary bindings across clinical and clinically-adjacent resources in FHIR core. The submitter (Gay Dolin) has identified bindings that may cause problems for downstream profiling use cases, particularly for US Core and anticipated international patient summary implementations.

The concern is that overly restrictive bindings in base resources force implementers into undesirable workarounds: reduced adherence to vocabulary guidance, avoidance of specialized profiles in favor of generic resources, or complex profiling patterns.

An attached spreadsheet catalogues the bindings identified for review.

## Current State

The issue affects a large number of resources (50+ listed as related artifacts) including:
- Clinical resources: Observation, Condition, Procedure, AllergyIntolerance, DiagnosticReport, etc.
- Administrative: Patient, Practitioner, Encounter, Coverage, etc.
- Medication-related: Medication, MedicationStatement, MedicationAdministration, etc.

Current problems encountered in US Core:
- Certain bindings in **Location**, **Specimen**, and **Gender/Sex-related value sets** have caused issues
- Required bindings cannot be overridden by profiles - data that doesn't fit the value set cannot be represented
- Extensible bindings require using codes from the bound value set if applicable, limiting jurisdiction-specific terminology

The submitter notes that some Required/Extensible bindings ARE valid, particularly:
- Workflow/metadata semantics (e.g., status elements)
- Long-standing HL7 standards usage (e.g., Vital Signs UCUM bindings)

## Stakeholder Perspectives

**Gay Dolin (Reporter)**: Has encountered these issues while developing/maintaining US Core. Believes there should be few Required or Extensible bindings in base resources, and those that exist should be carefully considered for downstream use cases. Offers to assist in the evaluation effort.

**Tagged stakeholders** (no comments yet):
- Eric Haas (@ehaas) - US Core
- Carmela Couderc (@carmela_couderc)
- Marc Duteau (@marc.duteau)
- Dan Vreeman (@dvreeman)

## Related Issues & Discussions

### Zulip Discussions
- **#Da Vinci CRD > data-absent-reason**: Lloyd McKenzie notes DAR doesn't help with required/extensible bindings if a code applies
- **#implementers > Mixing USCore versions**: Eric Haas discusses binding documentation clarity
- **#fmg > Overriding terminology binding strength rules**: Lloyd explains extensible isn't for cases where sender doesn't control data

### Related Patterns
- US Core has established binding documentation patterns for handling these situations
- IPS (International Patient Summary) alignment efforts face similar challenges across jurisdictions

## Technical Considerations

1. **Binding Strength Semantics**:
   - **Required**: Must use code from value set - no exceptions
   - **Extensible**: Must use code from value set if applicable; can use other codes only if none apply
   - **Preferred/Example**: Weaker guidance

2. **Profiling Constraints**: Profiles can only tighten bindings, never loosen. A profile cannot change Required to Extensible.

3. **Jurisdiction Variation**: Different countries have different standard terminologies (SNOMED vs ICD vs local codes). Required bindings to US-centric value sets block international use.

4. **Cross-Resource Consistency**: Changes to bindings may need coordination across multiple resources and work groups.

5. **Normative Implications**: Once R6 is normative, binding changes become breaking changes. This review is time-sensitive.

6. **FMM Considerations**: The spreadsheet likely covers resources at various FMM levels - changes to higher FMM resources require community consultation.

## Potential Courses of Action

### Option A: Full Binding Review Process
- **Description**: Conduct systematic review of all identified bindings with FHIR-I, resource owners, and Terminology Infrastructure. Evaluate each binding against criteria (use case conflicts, international applicability, etc.) and change as appropriate.
- **Pros**: Thorough; addresses root causes; prevents future issues
- **Cons**: Resource-intensive; requires cross-WG coordination; may delay ballot
- **Impact**: High - potentially many binding changes across many resources

### Option B: Targeted Review of Known Problem Bindings
- **Description**: Focus only on bindings with documented implementation conflicts (Location, Specimen, Gender/Sex). Address others in future versions.
- **Pros**: Scoped; addresses immediate pain points; feasible in ballot timeframe
- **Cons**: Doesn't prevent future issues; may miss important cases
- **Impact**: Medium - focused changes to specific resources

### Option C: Establish Binding Guidelines, Apply Later
- **Description**: Create guidelines document for when Required/Extensible bindings are appropriate in base resources. Apply guidelines after R6.
- **Pros**: Non-breaking; informs future work; educational
- **Cons**: Doesn't fix current problems; pushes resolution to future
- **Impact**: Low - documentation only for R6

### Option D: Create Extension Pattern for Binding Override
- **Description**: Define a standard extension that allows profiles to indicate "this instance uses a different binding than base"
- **Pros**: Preserves base spec; allows flexibility; non-breaking
- **Cons**: Complexity; validation challenges; may encourage inconsistency
- **Impact**: Medium - new pattern that profiles could adopt

## Questions for the Workgroup

1. What criteria should be used to evaluate whether a Required binding is appropriate?

2. Is there bandwidth for a cross-WG binding review before R6 normative ballot closes?

3. Which specific bindings have caused the most implementation pain in US Core and other IGs?

4. Should there be a formal process for jurisdictional IGs to request binding changes?

5. How do we balance international needs against US-centric value sets?

6. Is the attached spreadsheet available for review by the workgroup?

## References

- Jira Issue: https://jira.hl7.org/browse/FHIR-54613
- Attached Spreadsheet: FHIR_R6_ballot4_selected_resources_A-Z_required_extensible_bindings.xlsx
- Terminology Binding: https://build.fhir.org/terminologies.html#strength
- US Core Terminology: https://build.fhir.org/ig/HL7/US-Core/general-requirements.html#terminology
