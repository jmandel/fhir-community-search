# FHIR-54876: ServiceRequest - replaces Should More Clearly Support Prolongation or Renewal

## Issue Overview

This issue requests clarification and enhancement of the `ServiceRequest.replaces` element to more clearly support the use case of prescription/order prolongation, renewal, or continuation. While the current specification doesn't technically prohibit this usage, the semantics of "replaces" have caused confusion among implementers who interpret it as meaning "invalidates" rather than "continues" or "follows."

The submitter suggests updating the short description to something like "Request(s) replaced, superseded, carried or continued by this request" and elaborating the comments to confirm that `replaces` supports the "renovation" use case.

A specific use case is provided: A prescriber orders pain medication for one week post-surgery, but since the patient is traveling, also creates a continuation order in advance. The continuation is not reimbursed and may or may not be used depending on patient need. This scenario shows that the prior order and its prolongation can be created simultaneously, demonstrating the robustness needed in the approach.

## Current State

The `Request.replaces` element is defined across the Request pattern resources (ServiceRequest, MedicationRequest, CommunicationRequest, DeviceUseRequest, etc.). The current semantics suggest replacement/supersession but don't explicitly address continuation scenarios.

For MedicationRequest specifically, there is a separate `priorPrescription` element that handles the renewal chain, but ServiceRequest and other request resources rely on `replaces` for all prior-request relationships.

## Stakeholder Perspectives

**Jose Costa-Teixeira** (Reporter): Raised the issue based on implementation discussions. Concerned that "replaces" suggests invalidation rather than continuation.

**From Zulip Discussion (workflow > Prolongation / refills)**:

- **Lloyd McKenzie**: Suggests using `replaces` for ServiceRequest renewals, noting "The new authorization doesn't remove the prior authorization. It 'succeeds' it." For MedicationRequest, recommends using `priorPrescription`.

- **Jose Costa-Teixeira**: Expressed concern that "Succeed and replaces are very different" and asked whether "replace would reset billing" - a critical distinction for healthcare operations.

- **Lloyd McKenzie**: Indicated he's "not sure they're being used differently in the model" and suggested a change request to clarify.

The discussion highlighted several scenarios:
- 10 therapy sessions ordered, then 2 more added after review
- Billing implications of "replace" vs "continue"
- Whether the prior request is invalidated or remains valid

## Related Issues & Discussions

- [Zulip: workflow > Prolongation / refills](https://chat.fhir.org/#narrow/channel/179196-workflow/topic/Prolongation.20.2F.20refills/with/568472449) - Active discussion from January 2026
- Similar patterns exist in MedicationRequest.priorPrescription
- Related to DeviceUseRequest, CommunicationRequest, RequestGroup patterns

## Technical Considerations

1. **Semantic Ambiguity**: "Replaces" suggests the prior item is no longer valid, but prolongation/continuation implies both are valid in sequence.

2. **Billing Implications**: In healthcare, whether something is a "replacement" vs "continuation" has significant billing and reimbursement implications. Replacements may reset coverage limits; continuations typically don't.

3. **Temporal Ordering**: The example shows that a prolongation order can be created *before* the original order is completed, which challenges some assumptions about the `replaces` relationship.

4. **Cross-Resource Consistency**: MedicationRequest has `priorPrescription` which is semantically clearer for continuation. Should other request resources have similar elements?

5. **Request Pattern Impact**: Changes would affect the Request workflow pattern and potentially multiple resources implementing it.

## Potential Courses of Action

### Option A: Clarify Existing `replaces` Semantics
- **Description**: Update the short description and definition of `replaces` to explicitly include continuation/prolongation as valid uses. Add guidance that "replaces" doesn't necessarily mean "invalidates."
- **Pros**: Minimal change; addresses immediate confusion; backward compatible
- **Cons**: May be conceptually stretching the meaning of "replaces"; doesn't provide a way to distinguish replacement from continuation
- **Impact**: Non-substantive clarification

### Option B: Add a Relationship Type Code
- **Description**: Add a code or modifier to distinguish the type of relationship (replacement, continuation, renewal, supersession)
- **Pros**: Explicitly supports different use cases; clear semantics
- **Cons**: More complex change; new element or extension needed
- **Impact**: Compatible, substantive enhancement

### Option C: Add `priorRequest` Element (Like MedicationRequest)
- **Description**: Add a `priorRequest` element to ServiceRequest and other Request resources, parallel to MedicationRequest's `priorPrescription`
- **Pros**: Clear semantic distinction; consistent pattern for continuations
- **Cons**: Adds another element; may create confusion about when to use `replaces` vs `priorRequest`
- **Impact**: Compatible, substantive enhancement; affects Request pattern

### Option D: Use Extension for Now
- **Description**: Define an extension to capture relationship type, recommend its use while the community gathers more implementation experience
- **Pros**: Non-breaking; allows experimentation; can be promoted to core later
- **Cons**: Fragmentation risk; extension overhead
- **Impact**: Non-substantive to core; creates extension

## Questions for the Workgroup

1. Is the `replaces` element intended to cover continuation/prolongation use cases, or should there be a separate mechanism?

2. Should ServiceRequest align with MedicationRequest by having a dedicated `priorRequest` element for continuation chains?

3. What are the implications for the Request workflow pattern if we change this at the pattern level?

4. Are there IGs currently using `replaces` for continuation that we should consider?

5. How critical is it to distinguish "replacement" from "continuation" for clinical and billing systems?

## References

- [FHIR-54876 Jira Issue](https://jira.hl7.org/browse/FHIR-54876)
- [ServiceRequest.replaces](https://build.fhir.org/servicerequest-definitions.html#ServiceRequest.replaces)
- [Request Pattern](https://build.fhir.org/request.html)
- [MedicationRequest.priorPrescription](https://build.fhir.org/medicationrequest-definitions.html#MedicationRequest.priorPrescription)
- [Zulip: Prolongation / refills](https://chat.fhir.org/#narrow/channel/179196-workflow/topic/Prolongation.20.2F.20refills)
